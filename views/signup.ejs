<%- include('partials/header') %>
    <div class="form-container">
        <h1>Signup</h1>
        <form action="/signup" method="POST">
            <label for="email">Email:</label>
            <input type="email" name="email" placeholder="Email" required>
            <label for="password">Password:</label>
            <input type="password" name="password" placeholder="Password" required>
            <button type="submit">Sign Up</button>
        </form>
        <script>
            const form=document.querySelector('form');
            form.addEventListener('submit',(e)=>{
                e.preventDefault();
                const email=form.email.value;
                const password=form.password.value;
                try{
                    fetch('/signup',{
                        method:'POST',
                        headers:{'Content-Type':'application/json'},
                        body:JSON.stringify({email,password})
                    }).then(res=>{
                        if(res.status===201){
                            window.location.href='/';
                        }
                        return res.json();
                    }).then(data=>{
                        console.log(data);
                    });
                }
                catch(err){
                    console.log(err);
                }
                
                console.log(email,password);
            });
        </script>
</div>
<%- include('partials/footer') %>
